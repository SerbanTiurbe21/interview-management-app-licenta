<div>
  <p-toolbar>
    <div class="p-toolbar-group-left">
      <h1>Topics</h1>
    </div>
    <div class="p-toolbar-group-right">
      <button
        pButton
        type="button"
        icon="pi pi-plus"
        label="Add Topic"
        (click)="showAddTopicDialog()"
      ></button>
    </div>
  </p-toolbar>

  <p-table
    class="mt-3"
    [value]="topics"
    [paginator]="true"
    [rows]="5"
    [rowsPerPageOptions]="[5, 10, 15]"
  >
    <ng-template pTemplate="header">
      <tr>
        <th class="text-center w-4">Topic</th>
        <th class="text-center w-4">Number Of Questions</th>
        <th class="text-center w-4">See/Add Questions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-topic>
      <tr>
        <td class="text-center">{{ topic.name }}</td>
        <td class="text-center">{{ topic.nrOfQuestions }}</td>
        <td class="text-center">
          <p-button
            icon="pi pi-eye"
            pTooltip="Manage Questions"
            [rounded]="true"
            [text]="true"
            (click)="manageQuestions(topic)"
          >
          </p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<p-dialog
  header="Add Topic"
  [(visible)]="displayAddTopicDialog"
  [modal]="true"
  [style]="{ width: '20vw', height: '30vh' }"
  [draggable]="false"
  [resizable]="false"
  [baseZIndex]="1000"
>
  <div class="p-fluid">
    <div class="p-field mb-3">
      <label for="topicName">Topic Name</label>
      <input
        type="text"
        id="topicName"
        pInputText
        [(ngModel)]="newTopicName"
        class="mt-3 w-full"
      />
    </div>
    <div class="p-formgrid p-grid">
      <div class="flex justify-content-center">
        <div class="p-field p-col mr-2">
          <button
            type="button"
            pButton
            label="Save"
            icon="pi pi-check"
            (click)="saveNewTopic()"
            class="p-button-sm mr-2"
            [disabled]="newTopicName === ''"
          ></button>
        </div>
        <div class="p-field p-col-6 ml-2">
          <button
            type="button"
            pButton
            label="Clear"
            icon="pi pi-times"
            (click)="clearNewTopic()"
            class="p-button-secondary p-button-sm"
          ></button>
        </div>
      </div>
    </div>
  </div>
</p-dialog>
<p-toast position="top-center"></p-toast>
