<div>
  <p-toolbar>
    <div class="p-toolbar-group-left">
      <h1>Candidates</h1>
    </div>
    <div class="p-toolbar-group-right" *ngIf="isUserHR()">
      <button
        pButton
        type="button"
        icon="pi pi-plus"
        label="Add Candidate"
        (click)="showAddCandidateDialog()"
      ></button>
    </div>
  </p-toolbar>
</div>

<p-table
  class="mt-3"
  [value]="candidates"
  [paginator]="true"
  [rows]="5"
  [rowsPerPageOptions]="[5, 10]"
>
  <ng-template pTemplate="header">
    <tr>
      <th class="text-center">Name</th>
      <th class="text-center">Email</th>
      <th class="text-center">Phone Number</th>
      <th class="text-center">Position</th>
      <th class="text-center">CV Link</th>
      <th class="text-center">Interview Date</th>
      <th class="text-center">Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-candidate>
    <tr>
      <td class="text-center">{{ candidate.name }}</td>
      <td class="text-center">{{ candidate.email }}</td>
      <td class="text-center">{{ candidate.phoneNumber }}</td>
      <td class="text-center">{{ candidate.position }}</td>
      <td class="text-center">
        <a [href]="candidate.cvLink" target="_blank">CV Link</a>
      </td>
      <td class="text-center">{{ candidate.interviewDate }}</td>
      <td class="text-center" *ngIf="isUserHR()">
        <p-button
          icon="pi pi-pencil"
          [rounded]="true"
          [text]="true"
          (click)="editCandidate(candidate)"
        >
        </p-button>
        <p-button
          icon="pi pi-trash"
          [rounded]="true"
          [text]="true"
          (click)="confirmDeleteCandidate(candidate)"
        >
        </p-button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-toast position="top-center"></p-toast>
<p-confirmDialog></p-confirmDialog>
