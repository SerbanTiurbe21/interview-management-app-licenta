<div
  class="flex align-items-center justify-content-center h-full w-full surface-ground"
>
  <form
    [formGroup]="registerForm"
    (ngSubmit)="submitDetails()"
    class="surface-card p-4 shadow-2 border-round lg:w-3"
  >
    <div class="text-center mb-5">
      <div class="text-900 text-3xl font-medium mb-3">Register</div>
      <span class="text-600 font-medium line-height-3">Already a member? </span>
      <a
        class="font-medium no-underline ml-2 text-blue-500 cursor-pointer"
        routerLink="/login"
        >Login</a
      >
    </div>
    <div>
      <label for="fullName" class="block text-900 font-medium mb-2"
        >Full Name</label
      >
      <input
        type="text"
        pInputText
        formControlName="fullName"
        class="w-full"
        name="fullName"
        placeholder="Type your name (e.g John Doe)"
        class="w-full"
      />
      <small
        *ngIf="fullName.invalid && (fullName.dirty || fullName.touched)"
        class="block p-error"
      >
        <div *ngIf="fullName.errors?.['required']">Name is required.</div>
        <div *ngIf="fullName.errors?.['pattern']">Enter a valid Name</div>
      </small>

      <label for="email" class="block text-900 font-medium mb-2 mt-3"
        >Email</label
      >
      <input
        type="text"
        pInputText
        formControlName="email"
        class="w-full"
        name="email"
        placeholder="Type your email"
        class="w-full"
      />
      <small
        *ngIf="email.invalid && (email.dirty || email.touched)"
        class="block p-error"
      >
        <div *ngIf="email.errors?.['required']">Email is required.</div>
        <div *ngIf="email.errors?.['email']">Email should be valid</div>
      </small>

      <label for="password" class="block text-900 font-medium mb-2 mt-3"
        >Password</label
      >
      <input
        type="password"
        pInputText
        formControlName="password"
        class="w-full"
        name="password"
        placeholder="Type your password"
        class="w-full"
      />
      <small
        *ngIf="password.invalid && (password.dirty || password.touched)"
        class="block p-error"
      >
        <div *ngIf="password.errors?.['required']">Password is required.</div>
        <small class="block p-error" *ngIf="password.errors?.['pattern']">
          Password must be at least 8 characters, include an uppercase letter, a
          special character (!@#$&*), and a number.
        </small>
      </small>

      <label for="confirmPassword" class="block text-900 font-medium mb-2 mt-3"
        >Confirm password</label
      >
      <input
        type="password"
        pInputText
        formControlName="confirmPassword"
        class="w-full"
        name="confirmPassword"
        placeholder="Confirm password"
        class="w-full"
      />
      <small
        *ngIf="
          confirmPassword.invalid &&
          (confirmPassword.dirty || confirmPassword.touched)
        "
        class="block p-error"
      >
        <div *ngIf="confirmPassword.errors?.['required']">
          Confirm the password
        </div>
      </small>
      <small
        class="block p-error"
        *ngIf="registerForm.errors?.['passwordMismatch'] && confirmPassword.valid && password.valid"
      >
        Passwords should match
      </small>

      <label
        for="roles"
        class="block text-900 font-medium mb-2 mt-3 flex justify-content-center"
        >Select your role</label
      >

      <div class="card flex justify-content-center">
        <form class="flex flex-row gap-3" [formGroup]="registerForm">
          <div *ngFor="let role of roles" class="field-checkbox">
            <p-radioButton
              [inputId]="role.key"
              [value]="role"
              formControlName="selectedRole"
            ></p-radioButton>
            <label [for]="role.key" class="ml-2">{{ role.name }}</label>
          </div>
        </form>
      </div>

      <button
        pButton
        pRipple
        label="Register"
        icon="pi pi-user-plus"
        class="w-full mt-3"
        [disabled]="registerForm.invalid"
      ></button>
    </div>
  </form>
</div>
<p-toast position="top-center"></p-toast>
